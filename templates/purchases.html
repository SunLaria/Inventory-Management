
{% extends "base.html" %}
{% block content %}
<h2 style="text-align: center;">Purchases</h2>
<div id="table_container">
<table class="table" style="width: 55.5vw;">
    <tr>
        <th style="border-top-left-radius: 15px;">
            <input type="checkbox" name="" id="" checked disabled>
        </th>
        <th>
            Id
        </th>
        <th>
            Products
        </th>
        <th>
            Quantity
        </th>
        <th>
            Buyer
        </th>
        <th>
            Date
        </th>
        <th style="border-top-right-radius: 15px; border:none; padding:0">
            Total Price
        </th>
    </tr>
    {% for product in data %}
    <tr>
        <td>
            <input type="checkbox" id={{product.id}} id="">
        </td>
        <td>
            {{ product.id }}
        </td>
        <td>
            {{ product.products }}
        </td>
        <td>
            {{ product.quantity }}
        </td>
        <td>
            {{ product.buyer }}
        </td>
        <td>
            {{ product.date }}
        </td>
        <td style="border-right: none;">
            {{ product.price }}
        </td>
    </tr>
    {% endfor %}
</table>
</div>
<div id="purchases-buttons">
    <a href="" class="button">Refund Purchase</a>
    <a href="" class="button">Delete Purchase</a>
</div>
<script>
    for (let i = 1; i < document.getElementsByTagName("tr").length; i++) {
        let current = document.getElementsByTagName("tr")[i]
        current.addEventListener("click",function(){
            if (current.querySelector("[type=checkbox]").checked==false){
                current.querySelector("[type=checkbox]").checked=true
            }else{
                current.querySelector("[type=checkbox]").checked=false;
            }})}
</script>
{% endblock %}